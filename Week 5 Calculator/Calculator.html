<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
</head>
<body>
    <table baorder="1">
        <tr>
            <td colspan="4">
                <input type="text" id="inputBox" value="0">
            </td>
        </tr>

        <tr>
            <td onclick="digitBtnPress(7)">7</td>
            <td onclick="digitBtnPress(8)">8</td>
            <td onclick="digitBtnPress(9)">9</td>
            <td onclick="opBtnPress('*')">x</td>
        </tr>

        <tr>
            <td onclick="digitBtnPress(4)">4</td>
            <td onclick="digitBtnPress(5)">5</td>
            <td onclick="digitBtnPress(6)">6</td>
            <td onclick="opBtnPress('-')">-</td>
        </tr>

        <tr>
            <td onclick="digitBtnPress(1)">1</td>
            <td onclick="digitBtnPress(2)">2</td>
            <td onclick="digitBtnPress(3)">3</td>
            <td onclick="opBtnPress('+')">+</td>
        </tr>

        <tr>
            <td onclick="digitBtnPress(0)">0</td>
            <td onclick="decimalBtnPress('.')">.</td>        
            <td onclick="btnACPress()">AC</td>
            <td onclick="opBtnPress('/')">/</td>
        </tr>
       
        <tr>
            <td colspan="4" onclick="equalsBtnPress() ">=</td>
        </tr>

    </table>

    <script>

        var newLine = true
        var value1;
        var currentOperator;
        let currentInput = "";

        /*Event handler for digit buttons*/
        /*This function is called when a digit button is pressed*/
        function digitBtnPress(button) {

            if (newLine) {
                document.getElementById("inputBox").value = button;
                newLine = false;
            }
            else {
                var currentValue = document.getElementById("inputBox").value;
                document.getElementById("inputBox").value = currentValue + button;

            }
            
        }
        /*Event handler for AC button*/
        function btnACPress(){
            document.getElementById("inputBox").value = 0;
            newLine = true;
        }

        //Event handlers for the addition and more operators
        function opBtnPress(operator){
            currentOperator = operator;
            value1 = parseInt(document.getElementById("inputBox").value);
            newLine = true;
        }

        //Event handler for the equals button
        function equalsBtnPress(){
            var value2 = parseInt(document.getElementById("inputBox").value);
            var finalTotal;

            switch(currentOperator){
                case '+':
                    finalTotal = value1 + value2;
                    break;
                
                case '-':
                    finalTotal = value1 - value2;
                    break;

                case '*':
                    finalTotal = value1 * value2;
                    break;

                case '/':
                    finalTotal = value1 / value2;
                    break;
            }

            document.getElementById("inputBox").value = finalTotal;
            newLine = true;
        }

        function decimalBtnPress(digit) {
            if (digit === ".") {
                if (currentInput.includes(".")) {
                    return; // Prevent adding multiple decimal points
                }
                if (currentInput === "") {
                    currentInput = "0."; // Start with 0. if no digits before
                } else {
                    currentInput += ".";
                }
            }
            else {
                currentInput += digit;
            }
            document.getElementById("inputBox").value = currentInput;
            newLine = false;
        }

    </script>
</body>
</html>

